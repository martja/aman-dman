$schema: "https://json-schema.org/draft/2020-12/schema"
title: "Airport Data"
description: "Schema for airport locations and runway thresholds"
type: object
properties:
  airports:
    type: object
    propertyNames:
      type: string
      pattern: "^[A-Z0-9]{4}$"
      description: "ICAO code must be exactly 4 uppercase letters or digits"
    additionalProperties:
      type: object
      required: ["location", "runwayThresholds"]
      properties:
        location:
          type: object
          required: ["latitude", "longitude"]
          properties:
            latitude:
              type: number
              minimum: -90
              maximum: 90
            longitude:
              type: number
              minimum: -180
              maximum: 180
          additionalProperties: false
        runwayThresholds:
          type: object
          additionalProperties:
            type: object
            required: ["location", "elevation", "trueHeading"]
            properties:
              location:
                type: object
                required: ["latitude", "longitude"]
                properties:
                  latitude:
                    type: number
                    minimum: -90
                    maximum: 90
                  longitude:
                    type: number
                    minimum: -180
                    maximum: 180
                additionalProperties: false
              elevation:
                type: number
                minimum: 0
                description: "Runway elevation in feet"
              trueHeading:
                type: number
                minimum: 0
                maximum: 360
                description: "Runway true heading in degrees"
            additionalProperties: false
      additionalProperties: false
required: ["airports"]
additionalProperties: false